---
글쓴이: 김경곤
출판사: 한빛아카데미
분류: 004 컴퓨터과학
유형: 단행본
다읽은날: 2025-02-01
책표지: https://contents.kyobobook.co.kr/sih/fit-in/458x0/pdt/9791156643272.jpg
tags:
  - 독서노트
---
## 감상
### 2025-01-22

보안쪽도 재밌다. 그런데 이걸 업으로 삼기 위해서는...

---
## 노트

## Chapter 01. 인터넷에 대한 이해

### 1. 인터넷의 역사

- 1969년 10월 29일, ARPANET을 통해 레너드 클라인록 교수가 UCLA의 컴퓨터에서 SRI 연구소의 컴퓨터로 메시지를 전송하는 데 성공한 것이 최초의 2노드 간 상호연결이었다.
- 우리나라에서는 1982년 서울대학교와 KIET(전자통신연구소 ETRI의 전신)가 TCP/IP로 SDN을 시작한 것이 최초의 2노드 간 네트워크 연결이었다.
- 1994년 한국통신이 카이스트와 연구소 등에 학술·교육 정보 교류용으로 제공한 '하나망'을 일반에 개방하여 '코넷(KORNET)'을 시작했다.

### 2. 인터넷 프로토콜

- 프로토콜(Protocol)은 컴퓨터 간에 정보를 서로 원활하게 교환하기 위해서 상호 간에 정한 여러 가지 통신규칙과 방법에 대한 약속 또는 규약을 의미한다.
- 프로토콜의 구성 요소: 구문(Syntax), 의미(Semantics), 순서(Timing)
- 프로토콜에 대한 상세한 내용은 RFC(Request for Comments)에 기술되어 있다.
- RFC는 국제 인터넷 표준화 기구(IETF)에서 만드는 것으로, 인터넷에서 기술을 구현하는 데 필요한 상세 절차와 기본 틀을 제공하는 기술 관련 문서이다.

### 3. 인터넷 거버넌스

- 국제 인터넷 주소 관리 기구(ICANN): 도메인 이름 시스템(DNS)와 IP 주소, 프로토콜 번호와 매개변수 배정 등을 관리하며, DNS 루트 네임 서버 시스템의 개선 및 운영을 담당한다.
- 인터넷 협회(ISOC, Internet SOCiety): 인터넷의 이용과 기술에 관한 국제적인 협조와 협력을 촉진하기 위해 1992년에 설립된 비영리 국제기구이다.
- 국제 인터넷 표준화 기구(IETF): 인터넷의 운영, 관리, 개발에 대해 협의하고, 프로토콜과 구조적인 사안을 분석한다.
- 인터넷 아키텍처 위원회(IAB): 인터넷 소사이어티의 감독 단체로, 인터넷의 방침이나 장기적인 기획 및 기술 정책 등을 심의하고 결정하는 조직이다.
- 월드와이드웹 컨소시엄(W3C): 월드와이드웹, 웹 브라우저, 웹 서버 기술의 표준화를 추진하기 위해 교육/연구 기관 및 관련 회사들이 모여서 만든 단체이다.
- 국제 전기 통신 연합(ITU): 인터넷에 영향을 미칠 수 있는 관세 문제를 다루고, 정보통신 네트워크에 대한 기술적인 표준과 운영 표준을 발행한다.


## Chapter 02. 웹에 대한 이해

### 1. 웹의 역사

- 웹(Web)으로 많이 알려져 있는 WWW(World Wide Web)는 1989년 3월 13일 유럽입자물리연구소(CERN)에서 근무하던 소프트웨어 공학자 팀 버너스 리(Tim Berners Lee)가 과학자들 사이에 쉽게 정보를 주고받기 위한 목적으로 정보 관리 제안서(Information Management Proposal)를 발표하면서 시작되었다.
- 1990년 하이퍼텍스트 브라우저와 편집기가 개발되었고, URL, HTTP, HTML이 차레대로 설계되었다. 팀 버너스 리는 1991년 8월, 월드와이드웹에 대한 개념을 포함한 사이트를 일반인에게 최초로 공개했다.
- 인터넷 아카이브(http://www.archive.org)는 과거 웹 사이트의 기록을 보관하고 있다.

### 2. HTTP

- HTTP는 문서들 간의 상호 연결을 통해 다양한 텍스트, 그래픽, 애니메이션을 화면에 보여주고, 사운드를 재생할 수 있게 해주는 프로토콜이다.
- HTTP 1.0은 RFC 1945에, HTTP 1.1은 RFC 2016에 기술되어 있다.
- HTTP 1.0은 인터넷이 활성화된 시점인 1996년 5월에 완성되었으며, 메소드는 GET, HEAD, POST 방식만 지원한다. HTTP 1.1은 1997년에 공식 발표되었으며, 메소드는 OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT 방식을 지원한다.
- HTTP는 서버와 클라이언트 간의 Request와 Response 패킷을 통해 통신한다.
- HTTP Request 패킷에는 GET, POST, HEAD 등과 같은 메소드가 있으며, Accept, Accept-Language, User-Agent, Host, Cookie 등의 데이터가 전달된다.
- HTTP Response 패킷에는 프로토콜 버전, HTTP 상태 코드 등이 있으며, 전달할 데이터 형식, 데이터 길이 등의 추가 정보가 포함되어 있다.
- HTTPS는 애플리케이션 계층 프로토콜로 SSL(Secure Socket Layer)을 이용하여 클라이언트와 서버 사이에 주고받는 정보를 보호하는 데 사용한다.

### 3. HTTP 상태 코드

- 100번 대(정보 전송): 임시 응답을 나타내는 것은 Status-Line과 선택적인 헤더들로 이루어져 있고 빈 줄로 끝을 맺는다.
- 200번 대(성공): 클라이언트의 요청이 성공적으로 수신되어 처리되었음을 뜻한다.
- 300번 대(리다이렉션): 클라이언트의 요구 사항을 처리하기 위해서는 다른 곳에 있는 자원이 필요하다는 것을 의미한다.
- 400번 대(클라이언트 측 에러): 클라이언트가 서버에 보내는 요구 메시지를 완전히 처리하지 못한 경우 등 클라이언트 측에서 오류가 발생한 것을 의미한다.
- 500번 대(서버 측 에러): 서버 자체에서 생긴 오류 상황이나 클라이언트 요구 사항을 제대로 처리할 수 없을 때 발생한다.

### 4. 웹 애플리케이션 기술

- 서버 측 스크립트 언어: 클라이언트가 요청한 데이터를 서버 측에서 처리해서 원하는 결과를 돌려주기 위해 사용되는 언어가 서버 측 스크립트 언어이다. IIS와 같은 윈도우 계열 기반에서는 주로 ASP가 많이 사용되며, Java와 같은 웹 애플리케이션 플랫폼에서는 주로 JSP를 많이 사용한다.
- 웹 서버: 웹 애플리케이션을 구동시키기 위해 필요한 서버이다. 일반적으로 많이 사용하는 웹 서버는 아파치와 IIS(Internet Information Service)이다.
- 데이터베이스: 데이터베이스는 데이터의 모음을 말한다. 이러한 데이터베이스를 관리하는 소프트웨어를 DBMS(DataBase Management System)라고 하며, 오라클, DB2, Microsoft SQL Server, 사이베이스, MySQL 등이 있다.
- HTML: 1980년 유럽입자물리연구소(CERN)의 팀 버너스 리가 HTML의 원형인 인콰이어를 제안했다. 인콰이어는 CERN의 연구원들이 문서를 보다 쉽게 공유하기 위한 체계였다. HTML에 대한 최초의 일반 공개 설명은 1991년 말 팀 버너스 리가 인터넷에서 문서를 'HTML 태그(HTML tag)'라고 부르면서 시작되었다.
- 자바스크립트: 객체 기반의 스크립트 프로그래밍 언어이다. 넷스케이프 커뮤니케이션즈의 운영자인 브렌던 아이크가 처음에는 모카(Mocha)라는 이름으로 개발하였으며, 나중에는 라이브스크립트(LiveScript)라는 이름으로 바뀌었다가 최종적으로 자바스크립트가 되었다. 자바스크립트는 성능 문제로 인하여 서버 측에서 처리하지 않는 부분을 클라이언트 측에서 처리할 수 있도록 하기 위해 주로 사용된다.


## Chapter 03. 웹 해킹의 기초

### 1. 해킹 기술과 국내 해커의 역사

- 일반적으로 우리나라 해커의 시초는 1986년 한국과학기술원(KAIST)에 다니던 김창범이 '유니콘'이라는 해커 동아리를 만들면서 시작되었다고 알려져 있음
- 초기에는 순수한 호기심 차원에서 유닉스 시스템에 대한 취약점 연구가 이루어짐
- KAIST와 POSTECH 간의 해킹 전쟁 사건으로 대중에게 해킹이 많이 알려지게 됨
- 1990년대에는 시스템과 네트워크의 취약점을 이용하는 공격 기법들이 대부분이었음
- 1990년대 후반은 국내 1세대 해커들이 보안 전문 회사를 만들고, 언더그라운드에서 오버그라운드로 전환하여 활동을 전개하던 시기였다.
- 국내에서 2000년과 2001년에 국제 해킹 대회가 개최되면서 수많은 언더그라운드 해커들이 대회에 참여하고 경쟁하면서 국내 해커들의 전성시대가 이루어졌다.
- 90년대 중반부터 방화벽과 IDS와 같은 네트워크 보안장비가 개발되면서 네트워크 포트에 대한 직접적인 공격이 어려워지자 공격잗르은 시스템에 접근하기 위한 접점으로 외부에 오픈되어 있는 웹을 주요 공격 대상으로 삼기 시작했다.


### 2. 일반적인 웹 해킹 절차

- 웹 해킹을 하는 방법에는 직관적으로 취약점이 있을 만한 부분을 찾아서 바로 취약점 존재 여부를 확인한 후 그곳을 통해 침투를 시도하는 방법과 전반적으로 발견 가능한 모든 공격 표면을 찾아서 매트릭스를 작성한 후 하나씩 시도해 보는 방법이 있다.
- 일반적인 해킹 과정
	공격 대상 선정 -> 정보 수집 -> 취약점 분석 -> 공격 -> Report, Defacement, 흔적 제거 등
- 일반적으로 방문자가 가장 많은 목표 대상의 대표 웹 사이트가 주요 공격 대상으로 선정된다.
- 웹 해킹에서 말하는 정보 수집이란 공격 대상이 보유하고 있는 외부 접점 중에서 웹 사이트를 통해 웹 애플리케이션을 개발할 때 사용한 언어, 웹 사이트 내에 주요 공격 대상의 기능, 웹 서버의 종류 등과 같은 것을 알아보는 것을 말한다.
- 공격자는 공격할 웹 사이트에 접속한 후 취약점이 가장 많이 발생하고 영향도가 높은 영역을 먼저 조사한다. 보통 영향도가 높은 취약점이라는 것은 발견한 취약점으로 인해 웹 서버의 권한을 획득할 수 있거나 내부의 중요한 데이터베이스에 접근할 수 있는 주요 취약점을 말한다. 웹 사이트를 탐색하면서 사용자 로그인 부분이 있는지, 또한 게시판이나 자료실과 같은 파일을 업로드할 수 있는 부분이 있는지를 살펴본다.
- 웹 사이트의 탐색과 분석을 위한 자동화 도구로는 Burp Suite가 있다.
- 인터넷 익스플로러의 도구 메뉴에 있는 '개발자 도구'를 이용하면 웹 사이트에 있는 메뉴가 HTML 소스 어디에 위치하는지 구조를 보다 쉽게 파악할 수 있다.
- 웹 해킹을 할 때 검색 엔진을 사용하면 쉽게 많은 정보를 수집할 수 있다.

### 3. OWASP top 10 취약점

- 온라인을 통한 오픈 프로젝트인 OWASP(Open Web Application Security Project)는 2001년 12월 Mark Curphey, Dennis Groves에 의해 만들어졌고, 2004년 OWASP Top 10이라는 웹 애플리케이션상의 10대 주요 취약점을 발표함으로써 많은 보안 전문가들에게 알려지게 되었다.
- OWASP TOP 10 - 2010년 버전의 취약점 및 설명

| OWASP Top 10 - 2010년   | 설명                                                                                                                                   |
| ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| A1 인젝션 취약점             | 웹 애플리케이션에서 내부 데이터베이스와 연동하여 결과를 웹 애플리케이션에 보내주는 부분에 주로 발생함                                                                             |
| A2 크로스 사이트 스크립팅(XSS)   | 웹 애플리케이션에서 내부 시스템을 직접 공격하는 것이 아닌, 해당 웹 사이트에 방문하는 다른 사용자를 공격하는 기법을 말함                                                                 |
| A3 취약한 인증 및 세션 관리      | 웹 애플리케이션이 보안에 대한 설정을 잘못했을 때 발생. 대표적인 설계 결함의 예로는 주로 사용자 아이디와 패스워드를 인증하는 부분이나, 관리자 페이지와 같이 특정 사용자만 접근할 수 있는 페이지에 인증 기능을 누락한 경우를 들 수 있음 |
| A4 안전하지 않은 직접 객체 참조    | 취약한 인증과 유사하지만, 주로 특정 객체를 직접 참조할 때 발생함                                                                                                |
| A5 크로스 사이트 요청 변조(CSRF) | 웹 사이트에 악성 스크립트를 입력한 후 해당 사이트에 방문하는 사용자가 악성 스크립트에 의해 특정 행동을 하게 만드는 것을 말한다. 예를 들어 개인정보 수정, 회원 탈퇴 등 임의의 행동을 실행하도록 만들 수 있는 공격            |
| A6 보안상 잘못된 구성          | 주로 애플리케이션을 설치하면서 생기는 디폴트 페이지들을 삭제하지 않고 방치한 경우나, 디렉터리 리스팅과 같은 애플리케이션 설정의 오류, 또는 최신 보안 패치를 업데이트하지 않은 경우에 발생한다.                         |
| A7 안전하지 않은 암호 저장       | 사용자의 패스워드나 주민등록번호, 신용카드 번호 등의 민감한 개인 정보를 쉽게 풀 수 없도록 하는 강력한 암호화를 적용하지 않은 경우에 발생한다.                                                    |
| A8 URL 접근 제한 실패        | 웹 애플리케이션에서 보호된 URL에 대한 접근 통제를 적절히 구현하지 못했을 때 발생한다.                                                                                   |
| A9 불충분한 전송 계층 보호       | 민감한 데이터가 네트워크로 전송되는 과정에서 비밀성과 무결성을 지키기 위해 사용하는 알고리즘이 약하거나, 만료된 또는 유효하지 않은 인증서를 사용할 경우 발생한다.                                          |
| A10 검증되지 않은 리다이렉트와 포워드 | 리다이렉트나 포워드를 할 때 해당 사이트에 대한 적절한 검증이 없을 경우 공격자는 피해자를 피싱 사이트나 악성 코드가 포함된 사이트로 리다이렉트할 수 있고, 포워드를 권한 없는 페이지로의 접근을 위해 사용할 수 있다.            |


## Chapter 4. 인증과 접근 통제 공격

### 1. 인증 기술

- 인증하기 위한 방법에는 '알고 있는 것(Something you know)', '가지고 있는 것(Something you have)', '그 자체(Something you are)', '위치해 있는 곳(Somewhere you are)'이 있다. 과거에는 주로 '알고 있는 것'과 '가지고 있는 것'에 기반을 둔 인증 기술이 사용되었다.
- 인증의 유형과 종류

| 인증의 유형   | 종류                                  |
| -------- | ----------------------------------- |
| 알고 있는 것  | 패스워드, 주민등록번호, I-PIN 등               |
| 가지고 있는 것 | 신분증, 여권, 신용카드, 인증서, OTP, key, 스마트카드 |
| 그 자체     | 홍채, 지문, 각막, 행동, 서명                  |
| 위치해 있는 곳 | 지역, IP 주소                           |

### 2. 인증 취약점 공격

- 인증 취약점 공격의 대표적인 사례는 취약한 패스워드 설정으로 인한 것이다.
- 웹 애플리케이션의 패스워드 찾기 과정에서 물어보는 질문 항목이 간단하게 되어 있는 경우 공격자는 몇 번의 추측 공격을 통해 다른 사람의 패스워드를 얻을 수 있다.
- 패스워드 조합도에 따른 크랙하는 데 걸리는 예상 시간

| 패스워드 조합도(6자리 기준)                | 크랙하는 데 소요되는 예상 시간 |
| ------------------------------- | ----------------- |
| 단순한 숫자만으로 구성된 패스워드              | 0초                |
| 영문 소문자만으로 구성된 패스워드              | 1394초             |
| 영문 소문자와 숫자가 조합된 패스워드            | 5시간               |
| 영문 소문자와 대문자, 숫자가 조합된 패스워드       | 2일                |
| 영문 소문자와 대문자, 숫자와 특수문자가 조합된 패스워드 | 41일               |

### 3. 접근 통제 취약점 공격

- 중요한 자원에 대한 접근 통제는 수직적 접근 통제, 수평적 접근 통제, 비즈니스 로직 접근 통제로 구분된다.
- 수직적 접근 통제: 수직적 접근 통제는 일반 사용자가 접근할 수 있는 정보와 상위 관리자가 접근할 수 있는 정보에 대해 각기 다른 접근 권한을 부여하는 것이다. 예로는 일반 사용자와 관리자를 들 수 있다.
- 수평적 접근 통제: 웹 애플리케이션 내에 여러 사용자가 존재할 때 상대방의 정보를 볼 수 없도록 통제하는 것을 의미한다. 예로는 이메일이나 인터넷 뱅킹을 들 수 있다. 웹 메일은 여러 사용자가 이용하고 각 사용자에 따른 권한 차이도 없지만 서로의 고유 정보에 대해서는 접근할 수 없도록 막아놓고 있다.
- 비즈니스 로직 접근 통제: 사용자 권한에 종속되지 않고 민감하거나 중요한 자원에 대한 접근 통제를 의미한다. 예로는 일반 사용자가 관리자 권한을 전부 획득하지 못하였더라도 관리자만 접근할 수 있는 메뉴에 접근할 수 있는 경우를 들 수 있다. 간혹 웹 애플리케이션을 설치할 때 기본 설정 파일을 삭제하지 않고 그대로 보관하는 경우가 있는데, 이럴 경우 공격자는 애플리케이션 설정 파일과 같은 중요한 자원에 직접 접근할 수 있다.

## Chapter 5. SQL 삽입 공격

### 1. SQL 삽입 공격의 배경 지식

- SQL 삽입 공격(SQL injetion)에 대한 개념은 1998년 12월 Phrack 매거진 54호에 Rain Forest Puppy(rfp)라는 팀이 'NT Web Techonology Vulnerabilities'라는 문서를 발표하면서 처음 소개되었다.
- 2001년 2월 Rain Forest Puppy가 'SQL Injection'이라는 문서를 공개하면서 해당 기술이 많은 해커와 보안 전문가들에게 알려지기 시작했다.
- SQL(Structured Query Language, 구조화 질의어)은 관계형 데이터베이스 관리 시스템(RDBMS)의 데이터를 관리하기 위해 설계된 특수 목적의 프로그래밍 언어이다.
- SQL은 데이터 조작 언어(DML, Data Manipulation Languega)와 데이터 정의 언어(Data Definition Language)로 구분된다.
- SQL DML
	- select
	- update
	- delete
	- insert
- SQL DDL
	- create
	- alter
	- drop

### 2. SQL 삽입 공격

- 로그인 우회 공격
	- 특정 사용자를 선택하고, 패스워드 부분에 'or' '='을 입력한 후 Login을 클릭한다.
```sql
SELECT * FROM employee WHERE userid = 'Neville Bartholomew (admin)' and password= '' or '='
```

- SQL 삽입 공격으로 데이터 수정
	- User ID 부분에 다음과 같이 입력한다.
```sql
101; UPDATE employee SET Salary=100000 WHERE userid=101
SELECT userid, password, ssn, salary, email FROM employee where userid=101;
UPDATE employee SET Salary=100000 WHERE userid=101
```

- Microsoft SQL Server에서 사용자 정의 테이블 가져오기
```sql
SELECT name FROM sysobjects WHERE xtype='U'
```

- MicroSoft SQL Server에서 컬럼 이름 가져오기
```sql
SELECT name FROM sysobjects WHERE id = (SELECT id FROM sysobjects WHERE name = '컬럼 이름을 얻기 원하는 테이블 이름')
```

- Oracle에서 사용자 정의 테이블 가져오기
```sql
SELECT tname FROM sys.tab
SELECT table_name FROM all_tables WHERE TABLESPACE_NAME='USERS'
```

- Oracle에서 컬럼 이름 가져오기
```sql
SELECT column_name FROM cols WHERE table_name='컬럼 이름을 얻기 원하는 테이블 이름'
SELECT column_name FROM all_tab_columns WHERE table_name='테이블 이름'
```

### 3. XPath 삽입 공격

- XPath는 XML 문서로부터 선택한 노드를 사용하기 위한 프로그래밍 언어이며, XML 데이터를 트리 구조 값으로 형성한다.
- XPath 노드
	- `users`: 문서 노드
	- `username`, `password`, `account`: 요소 노드
	- `id="1"`: 속성 노드
	- `anesra`, `anesra_manse`, `root`: 인자 값
```xml
<?xml version="1.0" encoding="ISO-8859-1"?>
<users>
	<user>
		<username id="1">anesra</username>
		<password>anesra_manse</password>
		<account>root</account>
	</user>
</users>
```


## Chapter 6. XSS 공격

### 1. XSS의 개요

- 쿠키(Cookie): 1994년 넷스케이프에서 처음 사용한 기술이다. 사용자들이 웹 사이트를 편리하게 이용할 수 있도록 하기 위한 목적으로 만들어졌다. 최근에는 많은 웹 사이트가 쿠키를 이용하여 사용자의 정보를 수집하고 있다.
- 쿠키의 용도: 사이트 개인화, 장바구니 시스템, 웹 사이트 이용 방식 추적, 타깃 마케팅 등
- XSS: 'Cross-Site Scripting'의 약자. 줄여서 CSS라고도 하지만, 캐스캐이딩 스타일시트(Cascading Style Sheet)와 혼동될 우려가 있어 일반적으로 XSS라고 표기한다. XSS 공격은 다른 사용자의 정보를 추출하기 위해 사용되는 공격 기법을 말한다.

### 2. XSS 공격 방법

- StoredXSS: 게시판 또는 자료실과 같이 사용자가 글을 저장할 수 있는 부분에 정상적인 평문이 아닌 스크립트 코드를 입력하는 기법을 말한다.
- Reflected XSS: 웹 애플리케이션 상에 스크립트를 저장해 놓는 것이 아니라 URL의 변수 부분과 같이 스크립트 코드를 입력하는 동시에 결과가 바로 전해지는 공격 기법을 말한다.
- XSS 취약점을 확인할 수 있는 예제 코드
```xss
"><script>alert(document.cookie)</script>
"><ScRiPt>alert(document.cookie)</ScRiPt>
"%3e%3cscript%3ealert(document.cookie)%3c/script#%3e
"><scr<script>ipt>alert(document.cookie)</scr</script>ipt>
%00"><script>alert(document.cookie)</script>
```

### 3. 그 밖의 Cross-site 공격

- CSRF 공격: 크로스 사이트 요청 변조(Cross-Site Request Forgery) 공격의 약자로 피해자가 인지하지 못하는 상태에서 피해자의 브라우저가 특정 사이트에 강제적인 Request를 보내도록 하는 기법을 말한다.


## Chapter 07. 소스 코드 취약점 분석

### 1. 소스 코드 취약점 분석 방법

- 웹 애플리케이션의 보안 취약점을 찾는 방법에는 Black Box Testing과 White Box Testing이 있다.
- Black Box Testing: 웹 애플리케이션의 소스 코드를 보지 않고, 외부 인터페이스나 구조를 분석하여 취약점을 발견하는 방식
- White Box Testing: 개발된 소스 코드를 살펴봄으로써 코딩상의 취약점을 찾는 방식

### 2. 소스 코드 취약점 유형

- 입력 값 검증 취약점: SQL 삽입, XSS, 위험한 형식의 파일 업로드, 디렉터리 경로 조작 등이 있다.
- SQL 삽입 취약점 코드
```java
String query = "SELECT * FROM employee WHERE userid = " + userId + " and password = '" + password + "'";

ResultSet answer_results = answer_statement.executeQuery(query);
```

- 크로스 사이트 스크립트 취약점 코드
```java
String title = HtmlEncoder.encode(s.getParser().getRawParameter(TITLE, ""));
String message = s.getParser().getRawParameter(MESSAGE, "");
```

- 위험한 형식의 파일 업로드
```java
File userfile = new File(uploads_and_target_parent_directory + TARGET_RELATIVE_PATH + java.io.File.separator) + s.getUserName() + ".txt");

String image_query = "SELECT image_relative_url FROM mfe_images WHERE user_name = '" + s.getUserName() + "'";
```

- 디렉터리 경로 조작: 파일명을 받아들여서 처리하는 부분에 파일명에 대한 필터링이 없으면 공격자는 디렉터리 경로를 조작해서 상위 디렉터리에 있는 임의의 파일에 접근할 수 있다.
- 세션 처리 및 접근 통제 취약점: 개발 단계에서 사용자의 권한에 대한 검증을 적절하게 수행하지 않을 경우에 주로 발생하는 취약점이다. 세션 처리 및 접근 통제가 취약할 경우 매개 변수 조작이나 강제 브라우저 접근 등을 통해 공격자가 다른 사용자의 정보 또는 상위 관리자의 정보를 볼 수 있다.
- 중요 정보 평문 전송 취약점: 웹 사이트에서 아이디, 패스워드, 주민등록번호 등의 민감한 정보가 적절하게 암호화되지 않은 상태로 전달될 경우 공격자는 스니핑과 같은 공격 기법을 이용해서 탈취할 수 있다. 이 취약점에는 중요 정보 평문 전송, 하드 코딩된 패스워드, 주석 처리된 주요 정보 등이 있다.


## Chapter 08. 웹 해커의 도구들

### 1. 웹 브라우저

- 웹 브라우저에는 인터넷 익스플로러, 크롬, 파이어폭스 등이 있다.
- 마이크로소프트에서 개발한 인터넷 익스플로러는 1995년 8월 16일 처음 선을 보인 이후 지속적으로 개발되어 2013년 현재 버전 10까지 개발되었다.
- 인터넷 익스플로러에는 '개발자 도구'라는 기능이 내장되어 있는데, 이 기능을 통해 웹 사이트의 페이지 레이아웃, CSS, HTML 코드를 살펴볼 수 있다. 단축키 F12를 누르거나 오른쪽 상단의 설정 메뉴에서 'F12 개발자 도구'를 클릭하면 실행된다.
- 2008년 9월 2일에 구글이 공개한 크롬은 인터넷 익스플로러에 비해 13년이나 늦게 출발했지만, 불과 5년만에 인터넷 익스플로러보다 많은 사용자를 보유한 웹 브라우저가 되었다.
- 크롬에서 개발자 도구를 실행하려면 우측 상단의 설정 아이콘을 클릭한 후 도구 메뉴에서 '개발자 도구'를 클릭한다.
- 파이어폭스는 모질라에서 개발한 웹 브라우저이다.
- 파이어폭스에서 개발자 도구를 실행하려면 왼쪽 상단의 'Firefox' 아이콘을 클릭한 후 '개발자 도구' 메뉴에서 '개발자 도구 모음'을 클릭한다.

### 2. Burp Suite

| 주요 기능               | 설명                                                                                                                                               |
| ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| Target 기능(Site map) | 탐색한 사이트에 대한 정보를 확인할 수 있는 기능이다. 웹 사이트의 구조를 분석할 때 매우 유용하게 쓰인다.                                                                                     |
| Spider 기능           | 해당 웹 사이트에서 수작업으로 확인되지 않은 페이지들까지 자동으로 접속하여 추가적인 정보를 수집하는 기능이다. 이 기능을 이용할 때는 짧은 시간에 매우 많은 사이트에 접속하여 정보를 수집하기 때문에 금융권과 같이 모니터링을 하는 사이트의 경우 주의해야 한다. |
| intruder 기능         | 변수 값을 받아서 처리하는 웹 페이지가 있을 경우 공격자가 수작업으로 접속하여 일일이 확인하지 않아도 해당 웹 페이지에 전달되는 변수 값을 자동으로 생성하여 전달하도록 규칙을 만들어서 해당 페이지를 계속 탐색하는 기능이다.                     |
| Repeater 기능         | 특정 요청을 다시 전송하는 간단한 기능이지만, 웹 애플리케이션 해킹 시 유용하게 사용된다.                                                                                               |

### 3. 웹 취약점 스캐너

- 웹 애플리케이션에 존재하는 취약점을 자동으로 수집하여 1차로 분석한 후 해당 취약점에 대한 결과를 사용자가 보기 편한 방법으로 보고해 주는 도구이다.
- DB 기반 웹 스캐너
	- Nikto: 2001년 Chris Sullo가 웹 서버와 애플리케이션에 있는 취약점 데이터베이스를 이용하여 만든 취약점 스캐너이다. 2000년 초반에는 인기를 끌었지만, 근래에는 시들해진 편이다.
	- N-Stealth: 웹 취약점 데이터베이스를 기반으로 하는 웹 취약점 스캐너이다. 지금은 N-Stalker라는 이름으로 업데이트 되고 있다.
- 특정 웹 취약점(SQL 삽입 등) 스캐너
	- Absinthe: 0x90이라는 유명한 해커 그룹에서 활동하던 nummish와 Xeron이 만든 SQL 삽입 취약점 툴이다.
	- Havij: ITSECTEAM에서 개발한 취약점 스캐너이다. 직관적이고 사용하기 편리한 인터페이스가 특징이다.
- 종합 웹 취약점 스캐너 도구
	- Acunetix: 해커들이 사용하는 웹 해킹 방법들을 이용해서 웹 애플리케이션의 취약점을 찾는 휴리스틱 웹 취약점 스캐너이다. 2005년 6월에 처음 발표된 이후 지속적으로 개발되어 현재 가장 많이 사용되는 상용 웹 취약점 스캐너 중 하나이다.
	- AppScan: WatchFire사에서 만든 웹 애플리케이션 취약점 스캐너이다. 2007년에 IBM이 WatchFire사를 인수한 이후부터는 IBM에서 관리하고 있다.
- 웹 취약점 스캐너를 이용하면 짧은 시간에 다양한 취약점을 찾을 수 있지만, 다량의 입력 값을 웹 애플리케이션 서버에 전달하기 때문에 탐지될 가능성이 높고, SQL 삽입 공격의 경우 일부 웹 스캐너는 임의의 데이터베이스를 생성하는 경우가 있기 때문에 사용하기 전에 충분한 학습을 해 두는 것이 좋다.


## Chapter 09. SNS 주요 보안 위협

### 1. SNS의 태동과 배경

- 1954년 소셜 네트워크(Social Network)라는 용어를 처음 언급한 J. A. Barnes는 '종족, 가족, 동성들 간의 특정한 네트워크를 만드는 행위'라고 정의하였다.
- 페이스북과 같은 소셜 네트워크는 웹 2.0과 모바일이라는 핵심 기술의 변화에 따라 급격한 발전을 이루었다.
- 웹 2.0은 이용자가 적극적으로 참여하여 정보와 지식을 생산·공유·소비하는 열린 인터넷을 표방하여, 개방·참여·공유를 가장 중요한 가치로 여긴다.

### 2. SNS 보안 위협

| 위협                         | 설명                                                                                                                                     |
| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| 악성 소프트웨어(Malware)          | 소셜 네트워크 사이트를 통해 전파되는 웜은 친구 리스트에 등록된 사용자에게 전달하는 구조이기 때문에 전 세계 어디에서든 접속하기만 하면 쉽게 감염에 노출된다.                                               |
| 피싱(Phishing)               | 진짜 사이트와 거의 동일하게 꾸며진 가짜 사이트를 이메일 또는 링크를 통해 전달하여 개인정보를 탈취하는 공격 기법이다.                                                                     |
| 이블 트윈 어택(Evil Twin Attack) | 소셜 엔지니어링(사용자를 속이는) 공격 기법의 일종으로, 소셜 네트워크 상에서 악의적인 사용자가 지인 또는 특정 유명인으로 가장해서 활동하는 것을 말한다.                                                 |
| 신원 도용(Identify Theft)      | 미국 연방거래위원회(FTC)는 신원 도용을 '허가 없이 타인의 신원 정보를 이용하여 이미 이루어졌거나 시도된 사기 행위'로 정의하고 있다. SNS의 확산에 따라 공격자가 공격 대상의 '알고 있는 것'을 획득하는 과정이 전보다 훨씬 쉬워졌다. |
| 사이버 폭력(Cyberbullying)      | 온라인상에서 특정 사람을 지속적으로 음해하고 괴롭히는 일을 말한다. 주로 아동이나 10대 청소년들을 대상으로 하며, 성인이 이와 같은 일에 개입되면 사이버 폭력이 아닌 범죄에 해당된다.                                |

### 3. SNS 보안 위협에 대한 대응 방안

- 악성 소프트웨어(Malware)
	- 출처를 알 수 없는 링크는 함부로 클릭하지 않는다.
	- 모르는 사람에게서 받은 메일에 첨부되어 있는 파일은 열어보지 않는다.
	- 모르는 사람의 친구 요청을 수락하지 않는다.
	- 소셜 네트워크 사이트(주로 페이스북)에서 검증되지 않는 애플리케이션은 가급적 사용하지 않는다.
	- 소셜 네트워크 사이트의 개인 정보 설정이 적절하게 되어 있는지 확인한다.
	- 안티바이러스 소프트웨어를 설치하고, 항상 최신 버전으로 유지한다.

- 피싱(Phising)
	- 피싱 공격에 대해 정확히 파악한다.
	- 일부 금융 사이트나 신뢰할 수 있는 사이트가 제공하는 안티-피싱 솔루션을 사용한다.
	- 특정 사이트에서 개인정보를 요구할 때 사이트 담당자에게 직접 전화해서 확인한다.

- 이블 트윈 어택(Evil Twin Attack)
	- 현재 사용하고 있는 SNS의 정책을 읽어보고 스스로 학습한다.
	- 각 사이트에서 제공하는 기본 설정과 기능을 이해하고, 만약 기본 설정에서 개인정보 유출 위험이 감지되면 즉시 변경한다.
	- SNS를 통해 공유하는 정보가 무엇인지 정확하게 파악한다.

- 신원 도용(Identify Theft)
	- 보안에 대한 확고한 인식을 갖고, 비밀번호 등의 중요한 개인정보를 잘 관리한다.
	- 안티-피싱 툴이나 안티-바이러스 프로그램 등을 적절하게 활용하고, 항상 최신 버전으로 유지한다.
	- 자신의 신원이 도용되었다는 것을 알게 되었을 때는,
		- 해당 사이트 개인정보 보안 담당자에게 즉시 연락하여 계정을 일시 중지시키고, 관련 내용을 보고한다.
		- 가능하면 신원 도용이 되었음을 증명할 수 있는 화면을 캡쳐해 놓는다.
		- 개인정보침해센터(국번 없이 1336) 또는 경찰청 사이버테러대응센터(국번 없이 182)에 신고한다.

- 사이버 폭력(Cyberbullying)
	- SNS상에서 받은 음해와 험담 메시지는 마음에 담아두지 말고 무시하는 것이 좋다.
	- 사이버 폭력에 해당하는 메세지는 나중에 증거 자료로 사용될 수 있으므로 삭제하지 말고 저장하여 보관한다.
	- 주위의 어린이들에게 사이버 폭력의 위협에 대해 알려주고, 음해나 험담 메시지를 받았을 때 즉시 부모님이나 주위 어른에게 이야기하도록 당부한다.
	- 가정과 학교에서 적절한 사이버 예절을 가르친다.

## Chapter 10. 웹 보안의 기본 요소

### 1. 사용자 인증

- 웹 애플리케이션에서 사용되는 가장 기본적인 보안 기능: 웹 애플리케이션에서 포함된 정보에 접근할 수 있는 사용자가 유효한 사용자인지 인증하는 것
- 안전한 패스워드를 만드는 방법
	- 길이
		- 세 가지 종류 이상의 문자 구성으로 8자리 이상
		- 두 가지 종류 이상의 문자 구성으로 10자리 이상
	- 속성
		- 특정 명칭을 예측이 어렵도록 가공
		- 노래 제목이나 명언, 속담, 가훈 등을 가공
		- 패스워드 길이를 증가시키기 위해 알파벳 중간에 특수문자나 숫자를 삽입
		- 자신의 기본 패스워드 문자열을 설정하고 사이트별 특정 규칙을 적용

- 공인인증서: 전자 서명의 검증에 필요한 공개키에 소유자 정보를 추가하여 만든 일종의 전자 신분증(증명서)

- 생체인증 방식의 종류와 특성
	- 지문: 개인의 고유한 생체 정보인 지문을 이용한 인증 방식. 지문은 용선(ridge)와 골(valley)로 구성되어 있다.
	- 손 모양: 손을 폈을 때 손가락의 길이와 굵기의 차이를 이용한 인증 방식이다. 적외선으로 손등의 정맥 모양을 촬영하여 인증하는 방식도 있다.
	- 망막: 눈 뒷부분에 있는 모세혈관의 모습을 이용한 인증 방식이다. 정확도가 높지만 장비가 비싸고 인증을 하는 데 시간이 많이 소요되는 편이다.
	- 홍채: 사람마다 다른 홍채의 패턴을 이용하여 개인을 식별하는 방식이다.
	- 서명: 우리나라는 아직 서명보다 도장이 더 큰 법적 효력을 지니고 있지만, 외국에서는 서명이 더 많이 사용된다. 서명을 이용한 인증 장치의 경우 보안 수준이 낮은 편이다.
	- 목소리: 사람마다 다른 고유의 목소리(Voice Print)를 이용한 인증 방식이다. 전화를 통해서도 본인 확인을 할 수 있고, 사용 방법을 따로 익힐 필요도 없으며, 비용도 저렴한 편이지만, 보안 수준은 낮은 편이다.
	- 얼굴: 얼굴(Facial Scan)의 형태를 이용한 인증 방식이다.
	- 뇌파: 뇌파(EEG)를 인식하는 헤드셋을 이용하여 비밀번호를 입력하는 방법이다.

- 생체인증 성능의 측정
	- FRR: 인증 권한이 있는 사람이 인증을 시도했을 때 인증에 실패하는 경우
	- FAR: 인증 권한이 없는 사람이 인증을 시도했을 때 인증에 성공하는 경우
	- EER 또는 CER: FAR과 FRR이 그리는 곡선의 교차점

### 2. 접근 통제

- 접근 통제 모델: DAC, MAC, RBAC
	- DAC: 정보의 소유자가 정보의 보안 수준을 결정하고 이에 대한 정보의 접근 통제까지 설정하는 모델
	- MAC: 강제적으로 접근 권한을 할당하는 모델로 Bell-LaPadula 모델과 Biba 모델 등이 있다.
	- RBAC: 사람이 아닌 직책에 따라 권한 부여를 하는 모델

- 접근 통제 구현 방법: 관리적 접근 통제, 논리적 접근 통제, 물리적 접근 통제 등
	- 관리적 접근 통제: 보안 정책을 구성하고, 절차와 지침을 개발하는 것이 포함되며, 이러한 정책과 지침 내에 어떤 통제가 사용되어야 하는지를 결정한다.
	- 논리적 접근 통제: 기술적 통제라고도 불리며, 보호해야 할 정보에 접근하는 것을 제한하는 데 사용하는 하드웨어와 소프트웨어 도구를 말한다.
	- 물리적 접근 통제: 물리적 통제의 대표적인 활동으로는 네트워크 분리(망 분리), 경계선 보안, 전산실 통제, 데이터 백업 등이 있다.

### 3. 입력 값 검증

- 대부분의 중대한 웹 애플리케이션 취약점은 사용자가 입력하는 값을 검사하여 이상 여부만 판단해도 예방할 수 있다.

- 취약점과 입력 값 검증 방안
	- SQL 삽입 공격: Prepared Statement 객체를 이용해서 DB에 컴파일된 쿼리문을 전달하는 방식이 현재로서는 가장 안전하다.
	- 크로스 사이트 스크립팅(XSS) 공격: 외부에서 입력하는 값 중 스크립트 코드를 입력하지 못하도록 방어하는 방법이 가장 효과적이다. 일반적으로 스크립트를 입력하기 위한 문자열은 <, >, &, " 등이 있는데, 이러한 문자열을 &lt, &gt, &amp, &quot로 치환한다.
	- 악성 파일 업로드 공격: 필요한 파일의 확장자만 업로드를 허용한다. 업로드 되는 파일을 저장할 때는 파일명과 확장자를 추측할 수 없도록 문자열 값을 변형하여 저장하는 방법이 안전하다.

- 입력 값 검증 코드 구현 방법
	- 서버 측 필터링과 클라이언트 측 필터링: 클라이언트 측 필터링의 경우 공격자가 웹 인터셉트 프로그램을 이용하여 무력화시킬 수 있기 때문에 웹 애플리케이션에서 사용자 입력 값 검증 코드는 반드시 Java, JSP, ASP와 같은 서버 측 프로그래밍 언어 내에 구현해야 한다.
	- 화이트리스트 방식 필터링과 블랙리스트 방식 필터링: 필터링 방식에는 필요한 특정 입력 값만 받아들이고 그 외 모든 입력 값은 필터링을 하는 화이트리스트 방식과 알려진 악성 패턴들에 한해서만 필터링을 구현하는 블랙리스트 방식이 있다. 웹 애플리케이션에서는 블랙리스트 필터링 방식보다 화이트리스트 필터링 방식을 선호한다.


## Chatper 11. 웹 서버 보안

### 1. IIS 웹 서버 보안 설정

- **기본 웹 사이트 중지 및 새로운 웹 사이트 추가**: IIS7에서 제공하는 Default Web Site에는 불필요한 샘플들이 많다. 이런 파일들은 치명적이지는 않지만, 100% 공개되어 있는 파일들이어서 악용될 수 있다. 따라서 Default Web Site는 중지를 하고, 새로운 웹 사이트를 만드는 것이 바람직하다.
- **사용하지 않는 기본 문서 제거**: IIS 관리자에서 설정한 기본 문서의 순서에 따라 먼저 불러오도록 되어 있기 때문에 공격자가 우선순위의 파일을 임의로 만들어서 웹 서버 루트 디렉터리에 올리면 그  파일이 웹 사이트에 보여지게 된다. 따라서 기본 문서에 있는 사용하지 않는 파일들은 모두 삭제하는 것이 바람직하다.
- **디렉터리 검색 기능 제한**: 디렉터리 검색 기능은 특정 디렉터리 내에 index, html과 같은 기본 문서 파일이 없을 경우 웹 브라우저에서 해당 디렉터리를 불러왔을 때 파일들의 목록이 화면에 뜨는 기능이다. 따라서 특정 목적이 있는 경우가 아니라면 비활성화를 유지하는 것이 바람직하다.
- **맞춤형 오류 페이지 생성**: 맞춤형 오류 페이지를 작성하여 오류 발생 시 공격자에게 정보를 노출시키지 않도록 해야 한다.
- **IPv4 주소 및 도메인 제한**: IIS 관리자에 있는 'IPv4 주소 및 도메인 제한 기능'을 통해 IP 주소 또는 도메인 기반으로 접근 제어를 할 수 있다.
- **WebKnight**: WebKnight는 IIS 기반의 공개 웹 애플리케이션 방화벽(Web Application Firewall; WAP)이다.
- **W3C 확장 로그**: `C:\netpub\logs\LogFiles` 디렉터리에 `u_exyymmdd.log` 파일 형태로 기록되며, 필드 선택을 클릭하면 로그를 남기고 싶은 세부 필드 값들을 선택할 수 있다.
- **Microsoft IIS 로그**: 사용자가 별도로 양식을 지정할 수 없다. 기본 형식은 클라이언트의 IP 주소, 사용자 이름, 요청 날짜와 시간, HTTP 상태 코드, 받은 바이트 수 등의 기본 항목과 경과 시간, 전송 바이트 수, 메소드, 대상 파일 등의 세부 항목으로 이루어진다.
- **NCSA 로그**: 사용자가 별도로 양식을 지정할 수 없다. 기본 형식은 클라이언트의 IP 주소, 사용자 이름, 날짜, 시간, 요청 형식, HTTP 상태 코드, 전송 바이트 수로 이루어진다.

### 2. 아파치 웹 서버 보안 설정

- **아파치 설치 디렉터리 확인**
- **서버 이름과 IP, 포트 설정**: 특정 포트와 IP, 서버 이름을 통해서만 접속할 수 있도록 설정하는 기능이다.
- **서버 실행 계정과 그룹 설정**: 아파치 웹 서버는 nobody 계정을 아파치 웹 프로세스의 권한으로 할당하였다. guest 계정과 비슷한 권한을 가진 nobody 계정은 로그인도 허용되지 않는다. 페도라 17에 설치된 아파치는 'nobody'라는 이름 대신 'apache'라는 별도의 계정을 nobody 권한으로 만들어 아파치 웹 프로세스에 대한 권한으로 할당하였다.
- **웹 페이지 디렉터리 설정**: 웹 페이지 디렉터리는 공격자가 추측하기 어려운 경로로 만들거나 중요한 디렉터리에는 접근할 수 없도록 제한된 하위 디렉터리로 지정해야 한다.
- **기본 문서 설정**: DirectoryIndex 값을 이용하여 실제 사용하는 파일이 가장 높은 우선순위가 되도록 설정해야 한다. 기본 설정은 Index.html이 가장 높은 우선순위로 되어 있다.
- **디렉터리 리스팅 설정**: 디렉터리 안에 있는 모든 파일의 목록이 노출될 수 있으므로 디렉터리의 Options에 Indexes가 설정되어 있다면 삭제해야 한다.
- **FollowSymLinks 설정**: FollowSymLinks를 설정하면, 그 디렉터리 안에 있는 심볼릭 링크를 따라갈 수 있으므로 사용하지 않는 것이 좋다.
- **접근 제어의 확인과 설정**: 아파치도 IIS처럼 접근하는 클라이언트의 이름이나 IP 주소 등을 이용한 접근 제어가 가능하다. 또한 아파치에서는 웹 페이지가 저장된 디렉터리별로도 접근 제어가 가능하다.
- **ServerSignature 설정**: ServerSignature 설정을 통해 외부에서 아파치 서버의 버전과 운영체제 종류를 알아내지 못하도록 할 수 있다.


## Chapter 12. 보안 정책, 조직, 솔루션

### 1. 목적과 방향에 따른 보안 정책의 분류

1. 규칙으로 지켜져야 할 정책(Regulatory)
2. 하고자 하는 일에 부합하는 정책이 없을 때 참고하거나 지키도록 권유하는 정책(Advisory)
3. 어떠한 정보나 사실을 알리고자 하는 목적의 정책(Informative)

### 2. 수준에 따른 보안 정책의 분류

1. Security Policy: 조직의 보안 정책이 어떤 기본 원칙과 목적을 가지고 있는지를 밝히는 문서
2. Standards: 소프트웨어나 하드웨어의 사용 등 일반적으로 지켜야 할 보안 사항에 대하여 기술한 문서
3. Baselines: 조직에서 지켜야 할 가장 기본적인 보안 수준을 기술한 문서
4. Guidelines: 특정 상황에 대한 충고나 방향 등을 제시하는 문서
5. Procedures: 각각의 절차에 대한 세부적인 내용을 담고 있는 매뉴얼 수준의 문서

### 3. 보안 조직

- 일반적인 회사의 보안 조직은 '관리적 보안', '기술적 보안', '물리적 보안'으로 구성된다.
- 기업의 규모가 크거나 업무가 복잡한 경우의 보안 조직은 '물리적 보안', '정보보안 기획', '정보보안 관리', '정보보안 운영', '정보보안 진단 및 대응' 등으로 세분화된다.
- 보안 조직의 일반적인 정보보안 업무는 다음과 같다.
	- 정보보안 기획
		- 정보보안 전략/계획 수립
		- 정보보안 정책/지침, 표준 제정 및 관리
		- 정보보안 위험관리
	- 정보보안 관리
		- 시스템 구축 및 보안 장비 도입
	- 정보보안 운영
		- 인프라 보안 운영 및 보안 장비 운영
		- 위협 및 취약성 관리
		- 보안 관제
		- 보안 교육
		- 정보보안 사고 대응 관리
	- 정보보안 모니터링
		- 정보보안 성과 모니터링 및 성과 관리
		- 정보보안 내부 감사
		- 아웃소싱 보안 관리
		- 컴플라이언스 관리

### 4. 보안 솔루션

- VPN: 암호화 프로토콜(PPTP, L2TF, IPSec, SSL 등)을 이용하여 인터넷 회선을 전용선과 비슷한 용도로 사용할 수 있게 해주는 솔루션. VPN이 효과적으로 이용될 수 있는 상황에는 해외에서 국내 온라인 게임 즐기기, 집에서 회사 내부 시스템에 접근하기, 원격의 두 지점 간을 내부 네트워크처럼 이용하기 등이 있다.
- IPS: 침입 탐지 시스템의 기능을 가진 IPS의 모듈이 패킷 하나하나를 검사하여 그 패턴을 분석한 후 정상적인 패킷이 아니면 방화벽 기능을 가진 모듈로 하여금 그 트래픽을 차단하게 하는 솔루션. 침입 탐지 시스템과 방화벽의 조합으로 볼 수 있다.
- 스팸메일 차단 솔루션: 메일 서버 앞쪽에 위치해 프록시 메일 서버로 동작하며, SMTP 프로토콜을 이용한 DoS 공격이나 폭탄메일, 스팸메일 등을 차단하는 솔루션. 최근에는 내부 정보 유출 방지 기능도 수행하고 있다.
- PC 보안 솔루션: PC 방화벽과 백신 등 개인 PC에서 사용되는 보안 솔루션. 최근에는 PC 방화벽과 백신이 하나의 제품으로 합쳐져서 나오는 경우가 많은데, 이처럼 통합된 PC 보안 솔루션에는 공유자원 접근 및 제어, 패치 모니터링 및 설치, 파일 암호 및 복호화, 주변기기 매체 제어, 자산 및 IP 관리, 모니터링 등의 기능이 추가되기도 한다.
- DRM: 문서를 열람하고, 편집하고, 프린트하는 것에 접근 권한을 설정하여 통제하는 보안 솔루션. 운영체제의 커널에 삽입된 DRM 모듈이 응용 프로그램으로 문서를 작성할 때 이를 암호화하여 하드디스크에 저장하고, 응용 프로그램에서 이 파일을 불러들여 읽을 때에는 문서를 읽으려는 사람의 자격 여부를 확인한 후 이를 복호화하여 응용 프로그램에 전달해 준다.
- ESM: 여러 종류의 보안 솔루션을 중앙 집중화된 구조로 모니터링하기 위해 만들어진 솔루션. 보안 또는 관리 정책에 따른 사용자 및 접근 제어를 위한 ESM과 네트워크 및 시스템의 취약점, 위험요소 등을 분석하고 모니터링하는 관리 도구의 형태를 취하는 ESM이 있다.
- SIEM: 수많은 IT 시스템 및 보안 시스템에서 발생하는 로그들을 분석하여 이상 징후를 파악하고, 그 결과를 경영진에게 보고할 수 있도록 해주는 솔루션. 실시간 위험 탐지 및 대응을 위해 이벤트 로그 데이터를 실시간으로 수집하고 분석하는 기능을 가지고 있으며, 침해 공격 로그에 대한 포렌식과 컴플라이언스 또는 법적 조사를 위해 해당 데이터의 신속한 검색 및 리포팅 기능도 제공한다.


## Chapter 13. 모바일 보안

### 1. 모바일 보안 위협의 유형

| 분류        | 공격 유형                                | 공격 방법                                                                                                                                          |
| --------- | ------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| 플랫폼 공격    | - 바이러스/웜<br>- 시스템 Unlock<br>- 키보드 해킹 | - WiFi/블루투스/Web 이용 전파<br>- PC 동기화<br>- Jailbreak(iPhone), Rooting(Android), Security Off(WM)<br>- 플랫폼 취약점<br>- Rootkit(백도어, 트로이 목마 등의 해킹 프로그램) |
| 네트워크 공격   | - Wi-Fi 도청/변조<br>- DoS 공격            | - Wi-Fi/블루투스 네트워크 공격                                                                                                                           |
| 애플리케이션 공격 | - Malicious App<br>- Phishing App    | - Web 다운로드<br>- PC 동기화                                                                                                                         |
| 단말기 공격    | - 도난 및 분실<br>- Malicious App         | - 도난 및 분실<br>- 이동 저장매체 감염                                                                                                                      |
\[출처: 김지숙, 임중인, 스마트폰 이용 환경에서 국가기관 정보보호 관리 방안, 2010.]

### 2. 모바일 환경의 위협 요소

온라인 정보 공유 사이트 OWASP에서는 2013년 OWASP Mobile Security Project의 일환으로 모바일 환경에서 주의해야 할 열 가지 위협 요소를 선정하였다.

| 코드  | 위협 요소                                                          |
| --- | -------------------------------------------------------------- |
| M1  | 안전하지 않은 데이터 저장(Insecure Data Storage)                          |
| M2  | 취약한 서버 측 통제(Weak Server Side Controls)                         |
| M3  | 충분하지 않은 전송 계층 보호(Insufficient Transport Layer Protection)      |
| M4  | 클라이언트 측 인젝션(Client Side Injection)                             |
| M5  | 취약한 인증과 권한(Poor Authorization and Authentication)              |
| M6  | 안전하지 않은 세션 처리(Improper Session Handling)                       |
| M7  | 신뢰할 수 없는 입력을 통한 보안 결정(Security Decisions Via Untrusted Inputs) |
| M8  | 사이드 채널 데이터 노출(Side Channel Data Leakage)                       |
| M9  | 불안전한 암호화(Broken Cryptography)                                  |
| M10 | 민감한 정보 노출(Sensitive Information Desclosure)                    |

### 3. 모바일 통제와 설계 원칙

- 모바일 장치에 있는 민감한 데이터를 식별하고 보호한다.
- 장치에 있는 패스워드 식별 정보를 안전하게 처리한다.
- 전송 시 민감한 데이터가 보호되는지 확인한다.
- 사용자 인증, 권한, 세션 관리를 올바르게 구현한다.
- 백엔드 API(서비스)와 플랫폼(서버)을 안전하게 유지한다.
- 서드 파티 서비스와 애플리케이션의 데이터 통합을 안전하게 수행한다.
- 사용자 데이터의 수집과 사용을 위한 동의를 구할 때 신중히 대처한다.
- 금융 지불 자원(전자지갑, SMS, phone cells 등)에 불법으로 접근하지 못하게 통제한다.
- 모바일 애플리케이션이 안전하게 배포되도록 한다.
- 에러에 대한 실시간 코드 해석기(인터프리터)를 면밀히 체크한다.


## Chapter 14. 사이버 보안

### 1. 사이버 범죄

| 사이버 범죄의 유형 | 세부 유형                                                      |
| ---------- | ---------------------------------------------------------- |
| 사이버 테러형 범죄 | 해킹<br>악성 프로그램                                              |
| 일반 사이버 범죄  | 사기<br>불법 복제<br>불법·유해 사이트<br>사이버 명예훼손<br>개인정보 침해<br>사이버 스토킹 |

### 2. 사이버 스파이

- 인터넷 등의 사이버 공간에서 경쟁 회사 및 국가의 정보를 빼내 필요한 회사나 국가에 팔아넘기는 활동
- 데이터 여행자 사건: 사이버 스파이의 첫 사례. 1985년 마르쿠스 헤스를 포함한 5명의 해커가 유럽우주기구(ESA), 미국항공우주국(NASA), 버지니아주 군수산업체, 일본 쓰쿠바연구소 등에서 4년에 걸쳐 산업 · 과학 정보를 빼내 구소련의 KGB에 팔아넘긴 사건
- Red October: 2007년부터 각국의 정부 및 외교 기관, 다양한 연구기관, 에너지/원자력 기관, 교육/항공 및 우주 산업 전반에 걸쳐 악성 프로그램을 유포하여 정보를 빼낸 대규모 사이버 스파이 활동
- 61398 해커 부대: 미국의 보안업체가 사이버 스파이 행위를 지속적으로 수행해 온 한 집단을 추적한 결과 '중국 인민해방군 제3국 제2청 61938 해커 부대'가 배후에 있었다고 폭로

### 3. 사이버 전쟁

- 국가 또는 비국가 주체가 적국의 군사정보체계와 국가전산망 등을 무력화시키기 위해 공격하는 행위
- 대표적인 사이버 전쟁의 사례
	- 2007년 에스토니아 사이버 분쟁
	- 2008년 러시아와 그루지아 간의 사이버 전쟁
	- 2010년 미국과 이란의 사이버 분쟁 등

### 4. 미국의 사이버 시큐리티 동향

- 1998년: 대통령령 제 63호 공표를 통해 주요 기반 시설에 대한 범정부적 보호체제 마련
- 2001년: 행정명령 제13288호에 의거하여 국토안보부 및 국토안보회의 설립
- 2002년: 사이버 보안을 총괄 책임지는 국토안보부(DHS) 설립
- 2009년: 사이버 공간 정책 리뷰(Cyberspace Policy Review) 발표
- 2010년: 사이버전에 대응하기 위한 사이버사령부 창설, 국립표준기술연구소에서 국가 사이버 보안 교육 계획(NICE) 발표
- 2011년: 백악관에서 사이버 공간을 위한 국제 전략 발표, 국가과학기술회의(NSTC)에서 사이버 보안 연구 개발 전략 발표
- 2012년: 국방부에서 실전 투입용 사이버 무기 개발을 위한 'Plan X'의 추진 계획 발표, 오바마 대통령이 사이버전 교전 규칙 마련을 위한 기밀 지침에 서명, 미국 국토안보부에서 사이버 예비군 창설을 제안하는 보고서 발표
- 2013년: 오바마 대통령이 국가 안보를 위한 사이버 역량 강화를 골자로 하는 2013년 회계연도 국방수권법에 서명, 사이버사령부에서 화이트해커 인력 증원과 100개 이상의 사이버 안보전담팀 구축 계획 발표

### 5. 영국의 사이버 시큐리티 동향

- 네트워크 및 정보보호 정책은 내각부 산하의 '정보보증중앙지원국(CSIA)'에서 총괄
- 외무부 산하 정보통신총국 및 내무부 보안정보부(MI5) 산하 국가기반보호센터(CPNI) 등이 국가 전반에 걸친 정보보호 기관의 역할 수행
- 1995년: 영국 표준기관(BSI)에서 정보보안 관리에 대한 표준(BS 7799)을 제정, 이 표준은 이후 국제표준인 'ISO/IEC 27001'과 'ISO/IEC 27002'로 채택됨
- 2007년: 국가보안자문센터(NSAC)와 국가기반보안조정센터(NISCC), 정보인증에 대한 국가 기술을 담당하던 CESG 등을 통합하여 국가기반보호센터(CPNI) 창설
- 2009년: 총리실에서 'Cyber Security Strategy of the United Kingdom(CSSUK): safety, security and resilience in cyber space' 보고서 발간

### 6. NATO의 사이버 시큐리티 동향

- 2010년: 신전략 개념에서 사이버 공격을 동맹국의 정보 네트워크에 대한 위협으로 선언
- 2011년: NATO 국방장관 회의에서 사이버 방위 정책 승인
- 2012년: NATO 최고 의사결정 기구인 북대서양이사회(NAC) 차원에서 사이버 안보 분야에 대한 논의 본격화
- 2013년: NATO의 협력기구인 사이버방어협력센터(CCDCOE)에서 사이버전에 대한 지침인 '탈린 매뉴얼(Tallinn Manual)' 발표

### 7. EU의 사이버 시큐리티 동향

- 2002년: '정보보호기본법'으로 '프레임워크 지침(Directive 2002/21/EC)' 제정
- 2004년: '유럽 네트워크 및 정보보안 기구(ENISA)' 설립
- 2009년: CIP(Critical Information Infrastructure Protection) 사이버 보안 대책 발표
- 2010년: 유럽의 ICT 정책인 Digital Agenda에서 사이버 공격에 대한 대책 마련의 중요성 강조, CERT의 설립과 활동 계획 등 마련
- 2013년: 'An Open, Safe and Secure Cyberspace' 사이버 보안 전략 발표

### 8. 일본의 사이버 시큐리티 동향

- 1994년: 내각 총리대신을 본부장으로 하는 '고도정보통신사회추진본부' 설치, 2000년 7월 'IT전략본부'로 재편
- 2000년: '정보기관과 민간 주요 기반 시설의 안전 대책' 추진, '해커 대책 등의 기반 정비에 관한 행동 계획' 마련, '정보보안대책추진실' 설치
- 2001년: '전자정부의 정보보안 확보를 위한 행동 계획' 마련
- 2002년: 정보보안 대책의 입안을 위해 '긴급대응지원팀(NIRT)'을 내각관방에 설치
- 2003년: 경제산업성에서 '정보보호 종합 전략' 마련
- 2004년: IT전략본부 산하에 '정보보안기본문제위원회' 설치
- 2005년: '내각관방정보보안센터(NISC)'를 신규 설치하여 정보보안 문제에 대한 컨트롤타워로 지정

### 9. 중국의 사이버 시큐리티 동향

- 1990년대부터 시작된 중국의 인터넷은 정부 주도로 강력한 사이버 보안 체계 유지
- 국제 광대역의 80%를 점유하는 ChinaNet과 China169를 정부에서 운영
- 국가안전부: 국가 암호 관리 및 컴퓨터 보안 정책 수립 등 사이버 안전 업무 총괄
- 국가보밀국: 정보보안을 제외한 국가 공공기관의 보안 업무를 책임지고, 보안 감사와 보안 정책 시달 및 토제 감독 등 담당
- 공안부: 컴퓨터 및 네트워크 보안 정책과 보안 제품 개발에 관여하여 암호화 절차를 결정하는 등 국가 기밀을 보호하는 데 있어 핵심 역할 수행
- 1991년: 중앙군사위원회 직속 컴퓨터바이러스(해커)부대 창설
- 2000년: 사이버전 부대 Net-Force 창설

### 10. 한국의 사이버 시큐리티 동향

- 2003년: 1.25 인터넷 대란 이후 '국가 사이버 테러 대응체계 구축 기본 계획' 마련
- 2004년: '국가사이버안전센터(NCSC)' 설립
- 2011년: 국가 사이버 안전 전략 회의 개최
- 2012년: 정보보호의 날(매년 7월 둘째 수요일) 제정
- 2013년: 3월 20일 사이버 테러를 계기로 국가 사이버 위기관리 체계 구축